{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\n\n//create action\nexport const createUser = createAsyncThunk('createuser', async (data, _ref) => {\n  let {\n    rejectWithValue\n  } = _ref;\n  console.log(\"data=\", data);\n  const response = await fetch(\"https://641dd63d945125fff3d75742.mockapi.io/crud\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(data)\n  });\n  try {\n    const result = await response.json();\n    return result;\n  } catch (error) {\n    return rejectWithValue(error);\n  }\n});\n//read action\nexport const showUser = createAsyncThunk('showuser', async (args, _ref2) => {\n  let {\n    rejectWithValue\n  } = _ref2;\n  console.log(\"args=\", args);\n  const response = await fetch(\"https://641dd63d945125fff3d75742.mockapi.io/crud\");\n  try {\n    const result = await response.json();\n    return result;\n  } catch (error) {\n    return rejectWithValue(error);\n  }\n});\n\n//delete\nexport const deleteUser = createAsyncThunk('deletuser');\nexport const userDetail = createSlice({\n  name: \"userDetail\",\n  initialState: {\n    users: [],\n    loading: false,\n    error: null\n  },\n  reducers: {},\n  extraReducers: {\n    [createUser.pending]: state => {\n      state.loading = true;\n    },\n    [createUser.fulfilled]: (state, action) => {\n      state.loading = false;\n      state.users.push(action.payload);\n    },\n    [createUser.rejected]: (state, action) => {\n      state.loading = false;\n      state.error = action.payload.message;\n    },\n    [showUser.pending]: state => {\n      state.loading = true;\n    },\n    [showUser.fulfilled]: (state, action) => {\n      state.loading = false;\n      state.users = action.payload;\n    },\n    [showUser.rejected]: (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    }\n  }\n});\nexport default userDetail.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","createUser","data","_ref","rejectWithValue","console","log","response","fetch","method","headers","body","JSON","stringify","result","json","error","showUser","args","_ref2","deleteUser","userDetail","name","initialState","users","loading","reducers","extraReducers","pending","state","fulfilled","action","push","payload","rejected","message","reducer"],"sources":["/home/sid/React/CRUD/my-app/src/features/userDetailSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\n\n//create action\nexport const createUser=createAsyncThunk(\n  'createuser',\n  async(data,{rejectWithValue})=>{\n    console.log(\"data=\",data)\n    const response=await fetch(\"https://641dd63d945125fff3d75742.mockapi.io/crud\",\n    {\n      method:\"POST\",\n      headers:{\"Content-Type\":\"application/json\",},\n      body:JSON.stringify(data),\n    });\n    try{\n      const result=await response.json()\n      return result;\n    }\n    catch(error){\n      return rejectWithValue(error);\n\n    }\n  }\n)\n//read action\nexport const showUser=createAsyncThunk(\n  'showuser',\n  async(args,{rejectWithValue})=>{\n    console.log(\"args=\",args)\n    const response=await fetch(\"https://641dd63d945125fff3d75742.mockapi.io/crud\")\n   \n     try{\n      const result=await response.json()\n      return result;\n     }\n     catch(error){\n      return rejectWithValue(error);\n     }\n\n  }\n  )\n\n\n  //delete\n  export const deleteUser=createAsyncThunk(\n    'deletuser'\n  )\n\nexport const userDetail=createSlice({\n  name:\"userDetail\",\n  initialState:{\n    users:[],\n    loading:false,\n    error:null,\n  },\n  reducers:{},\n  extraReducers:{\n    [createUser.pending]:(state)=>{\n      state.loading=true;\n    },\n    [createUser.fulfilled]:(state,action)=>{\n      state.loading=false;\n      state.users.push(action.payload);\n    },\n    [createUser.rejected]:(state,action)=>{\n      state.loading=false;\n      state.error=action.payload.message;\n    },\n    [showUser.pending]: (state) => {\n      state.loading = true;\n    },\n    [showUser.fulfilled]: (state, action) => {\n      state.loading = false;\n      state.users = action.payload;\n    },\n    [showUser.rejected]: (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    },\n\n\n  },\n})\n\nexport default userDetail.reducer;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}